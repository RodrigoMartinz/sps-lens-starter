<!DOCTYPE html>
<html xmlns:mml="http://www.w3.org/1998/Math/MathML">
  <head>
    <title>SPS Lens</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic' rel='stylesheet' type='text/css'>
    
    <link rel="stylesheet" type="text/css" media="all" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />

    <!-- A combined lens.css will be generated in the bundling process --> 
    <!-- While in development, separate links for each CSS file are added, so we don't need a source map -->
    <link href='lens.css' rel='stylesheet' type='text/css'/>

    <script src="lib/jquery.min.js"></script>

    <script src='lens.js'></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript">
      // MathJax Configuration
      MathJax = {
        svg: {
          scale: 1,                      // global scaling factor for all expressions
          minScale: .5,                  // smallest scaling factor to use
          matchFontHeight: true,         // true to match ex-height of surrounding font
          mtextInheritFont: false,       // true to make mtext elements use surrounding font
          merrorInheritFont: true,       // true to make merror text use surrounding font
          mathmlSpacing: false,          // true for MathML spacing rules, false for TeX rules
          skipAttributes: {},            // RFDa and other attributes NOT to copy to the output
          exFactor: .5,                  // default size of ex in em units
          displayAlign: 'center',        // default for indentalign when set to 'auto'
          displayIndent: '0',            // default for indentshift when set to 'auto'
          fontCache: 'local',            // or 'global' or 'none'
          localID: null,                 // ID to use for local font cache (for single equation processing)
          internalSpeechTitles: true,    // insert <title> tags with speech content
          titleID: 0                     // initial id number to use for aria-labeledby titles
        },
        menuSettings:{
            zoom: "Click"
        }
      };


      var qs = function () {
        var query_string = {};
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            // If first entry with this name
            if (typeof query_string[pair[0]] === "undefined") {
                query_string[pair[0]] = pair[1];
                // If second entry with this name
            } else if (typeof query_string[pair[0]] === "string") {
                var arr = [ query_string[pair[0]], pair[1] ];
                query_string[pair[0]] = arr;
                // If third or later entry with this name
            } else {
                query_string[pair[0]].push(pair[1]);
            }
        }
        return query_string;
      } ();
      if(qs.xml !== undefined){
        var documentURL = "data/" + qs.xml + ".xml";
      } else{
        var documentURL = "data/2007-4476-bs-97-04-551.xml";
      }

      $(document).ready(function(){
        var app = new Lens({
          document_url: documentURL
        });
        app.start();
        window.app = app;

        $("body").append('<a href="./" class="go-back"><i class="fa fa-arrow-left"></i> <span>Regresar</span></a>');
      });
    </script>
  </head>
  <body class="loading">

  </body>
</html>